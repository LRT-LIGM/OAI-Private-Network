# Analyzing the xApp SQLite Database (`xapp_db_TIMESTAMP`)

This guide explains how to explore and export the xApp metrics database generated by FlexRIC’s Python xApps. These files are located in `/tmp/` and are named like:

```
xapp_db_<timestamp>
```

You may also find `-shm` and `-wal` files related to the same DB — those are temporary and can be ignored for read/export tasks.

---

## 1. Open the Database

```bash
sqlite3 /tmp/xapp_db_<timestamp>
```

Once inside the SQLite shell:

```sql
.tables         -- List all tables
.schema TABLE   -- Show table structure
SELECT * FROM TABLE LIMIT 10; -- Preview first rows
```

---

## 2. Common Tables to Explore

| Table      | Description                              |
|------------|------------------------------------------|
| `SLICE`    | Slice configurations (type, algorithm…)  |
| `UE`       | UE slice associations (RNTI, slice ID…)  |
| `MAC`      | MAC layer stats (e.g., PRBs, RSRP)       |
| `PDCP`     | PDCP layer stats                         |
| `RLC`      | RLC layer stats                          |
| `GTP`      | GTP tunnel stats                         |

---

## 3. Export to CSV

Example: export the SLICE table to a CSV file:

```bash
sqlite3 /tmp/xapp_db_<timestamp> -header -csv "SELECT * FROM SLICE;" > slice_metrics.csv
```

You can do the same for other tables:

```bash
sqlite3 /tmp/xapp_db_<timestamp> -header -csv "SELECT * FROM UE;" > ue_slice.csv
sqlite3 /tmp/xapp_db_<timestamp> -header -csv "SELECT * FROM MAC;" > mac.csv
```

---

## 4. Cleanup (Optional)

If you're done and want to remove temporary WAL/SHM files:

```bash
rm /tmp/xapp_db_<timestamp>-wal
rm /tmp/xapp_db_<timestamp>-shm
```

Or to merge logs into the main DB:

```bash
sqlite3 /tmp/xapp_db_<timestamp> "VACUUM;"
```

---

## 5. Tips

- Use `DB Browser for SQLite` (GUI tool) for easier navigation.
- Use Python with `sqlite3` or `pandas.read_sql()` for automated analysis.
- Always make a backup before modifying the `.db` file.

